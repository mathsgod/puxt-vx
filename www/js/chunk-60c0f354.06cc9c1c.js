(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60c0f354"],{"04d1":function(e,t,n){var i=n("342f"),a=i.match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},"0b87":function(e,t,n){},"1a53":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-manager-application vx-file-manager"},[n("div",{staticClass:"content-area-wrapper vx-file-manager-content"},[n("div",{staticClass:"sidebar-left"},[n("div",{staticClass:"sidebar"},[n("div",{staticClass:"sidebar-file-manager",class:{show:e.showSidebar}},[n("div",{staticClass:"sidebar-inner"},[n("el-dropdown",{staticClass:"w-100 pl-2 pt-2 pr-2 mb-2",attrs:{trigger:"click"},on:{command:e.addNew}},[n("el-button",{staticClass:"w-100",attrs:{type:"primary",disabled:null!=e.type}},[e._v(" Add New ")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{directives:[{name:"t",rawName:"v-t",value:"Folder",expression:"'Folder'"}],attrs:{command:"folder"}}),n("el-dropdown-item",{directives:[{name:"t",rawName:"v-t",value:"File",expression:"'File'"}],attrs:{command:"file"}})],1)],1),n("div",{ref:"sidebarList",staticClass:"sidebar-list"},[n("el-tree",{ref:"tree",staticClass:"mb-2",attrs:{draggable:"",lazy:"",load:e.loadNode,"node-key":"path","expand-on-click-node":!1,"default-expanded-keys":[e.base],"allow-drop":e.allowDrop,"highlight-current":!0},on:{"node-click":e.handleNodeClick,"node-drag-end":e.handleDragEnd,"node-drop":e.handleDrop}}),n("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.listFiles("recent")}}},[n("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"clock"}}),n("span",{staticClass:"align-middle"},[e._v("Recents")])]),n("vx-file-manager-labels",{attrs:{"default-action":e.defaultAction,"file-type":e.fileType,value:e.type},on:{input:function(t){return e.listFiles(t)}}})],1)],1)])])]),n("div",{staticClass:"content-right"},[n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-header row"}),n("div",{staticClass:"content-body"},[n("div",{ref:"overlay",staticClass:"body-content-overlay",class:{show:e.showSidebar},on:{click:function(t){e.showSidebar=!1}}}),n("div",{staticClass:"file-manager-main-content"},[n("div",{staticClass:"\n                file-manager-content-header\n                d-flex\n                justify-content-between\n                align-items-center\n              "},[n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"\n                    sidebar-toggle\n                    d-block d-xl-none\n                    float-left\n                    align-middle\n                    ml-1\n                  ",on:{click:function(t){e.showSidebar=!e.showSidebar}}},[n("i",{staticClass:"font-medium-5",attrs:{"data-feather":"menu"}})]),n("div",{staticClass:"\n                    input-group input-group-merge\n                    shadow-none\n                    m-0\n                    flex-grow-1\n                  "},[n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text border-0"},[n("vx-icon",{attrs:{name:"search",width:"14"}})],1)]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.search_text,expression:"search_text"}],staticClass:"form-control files-filter border-0 bg-transparent",attrs:{type:"text",placeholder:e.$t("Search")},domProps:{value:e.search_text},on:{keyup:function(t){return e.onSearch(t)},input:function(t){t.target.composing||(e.search_text=t.target.value)}}})])]),n("div",{staticClass:"d-flex align-items-center"},[e.selectedFolder.length+e.selectedFile.length>0?n("el-button-group",[n("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.deleteSelected}},[e._v("Delete")]),e.selectedFile.length>0?[e.showSelectButton?n("el-button",{attrs:{icon:"el-icon-document-checked"},on:{click:e.selectClicked}},[e._v(" Select ")]):e._e(),n("el-button",{on:{click:function(t){e.showSelectFolder=!0}}},[e._v("Move")])]:e._e()],2):e._e(),n("el-button-group",[n("el-button",{staticClass:"active",attrs:{icon:"el-icon-menu"},on:{click:function(t){e.mode="grid"}}}),n("el-button",{on:{click:function(t){e.mode="list"}}},[n("i",{staticClass:"fa fa-list"})])],1)],1)]),n("div",{ref:"fileContent",staticClass:"file-manager-content-body"},[e.file_uploader?[n("el-upload",{ref:"uploads",staticClass:"upload-demo",attrs:{drag:"",action:e.action,multiple:"",headers:e.uploadHeaders,data:{path:e.selectedPath},"on-success":e.onSuccessUpload,"on-error":e.onErrorUpload,accept:e.accept}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v(" Drop file here or "),n("em",[e._v("click to upload")])]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Files with a size less than "+e._s(e.$vx.file_upload_max_size)+" ")])]),n("el-divider")]:e._e(),n("div",{staticClass:"view-container",class:"list"==e.mode?"list-view":""},[n("h6",{staticClass:"files-section-title mt-25 mb-75"},[e._v("Folders")]),n("div",{staticClass:"files-header",staticStyle:{"margin-bottom":"0"}},[n("h6",{staticClass:"font-weight-bold mb-0",class:e.sorting},[e._v(" "+e._s(e.$t("Name"))+" "),n("span",{staticClass:"caret-wrapper"},[n("i",{staticClass:"sort-caret ascending",on:{click:e.onAscending}}),n("i",{staticClass:"sort-caret descending",on:{click:e.onDescending}})])]),n("div",[n("h6",{directives:[{name:"t",rawName:"v-t",value:"Size",expression:"'Size'"}],staticClass:"\n                        font-weight-bold\n                        file-item-size\n                        d-inline-block\n                        mb-0\n                      "}),n("h6",{directives:[{name:"t",rawName:"v-t",value:"Date modified",expression:"'Date modified'"}],staticClass:"\n                        font-weight-bold\n                        file-last-modified\n                        d-inline-block\n                        mb-0\n                      "}),n("h6",{staticClass:"font-weight-bold d-inline-block mr-1 mb-0"},[e._v(" Actions ")])])]),e.showLevelUp?n("div",{staticClass:"card file-manager-item folder level-up",on:{click:e.onLevelUp}},[e._m(0),e._m(1)]):e._e(),e._l(e.displayFolders,(function(t,i){return n("vx-file-manager-folder",{key:i,attrs:{folder:t},on:{delete:function(t){return e.deleteFolder(t)},selected:function(t){return e.selectFolder(t)},unselected:function(t){return e.unselectFolder(t)},rename:function(t){return e.renameFolder(t)},input:function(t){return e.folderClicked(t)}}})})),""!=e.search_text&&0==e.folders.length?n("div",{staticClass:"flex-grow-1 align-items-center no-result mb-3"},[n("i",{staticClass:"fa fa-exclamation-circle mr-50"}),e._v(" No Results ")]):e._e()],2),n("div",{staticClass:"view-container",class:"list"==e.mode?"list-view":""},[n("h6",{staticClass:"files-section-title mt-2 mb-75"},[e._v("Files")]),e._l(e.displayFiles,(function(t){return n("vx-file-manager-file",{key:t.path,attrs:{mode:e.mode,file:t,preview:e.preview},on:{delete:function(t){return e.deleteFile(t)},rename:function(t){return e.renameFile(t)},duplicate:function(t){return e.duplicateFile(t)},selected:function(t){return e.selectedFile.push(t)},unselected:function(t){e.selectedFile=e.selectedFile.filter((function(e){return e!=t}))},input:function(t){return e.inputFile(t)}}})})),""!=e.search_text&&0==e.files.length?n("div",{staticClass:"flex-grow-1 align-items-center no-result mb-3"},[n("i",{staticClass:"fa fa-exclamation-circle mr-50"}),e._v(" No Results ")]):e._e()],2)],2)])])])])]),e.showSelectFolder?n("el-dialog",{attrs:{title:"Select folder ...",visible:e.showSelectFolder,"append-to-body":""},on:{"update:visible":function(t){e.showSelectFolder=t}}},[n("el-tree",{ref:"tree2",staticClass:"mb-1",attrs:{lazy:"",load:e.loadNode,"node-key":"path","expand-on-click-node":!1,"default-expanded-keys":[e.base],"highlight-current":!0}}),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.moveSelectedTo(e.$refs.tree2.getCurrentNode())}}},[e._v("Select")])],1):e._e()],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-img-top file-logo-wrapper"},[n("div",{staticClass:"\n                        d-flex\n                        align-items-center\n                        justify-content-center\n                        w-100\n                      "},[n("i",{staticClass:"fa fa-arrow-up"})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-body pl-2 pt-0 pb-1"},[n("div",{staticClass:"content-wrapper"},[n("p",{staticClass:"card-text file-name mb-0"},[e._v("...")])])])}],r=n("b85c"),s=n("1da1");n("96cf"),n("ac1f"),n("5319"),n("4e82"),n("b0c0"),n("99af"),n("4de4"),n("caad"),n("2532"),n("649b"),n("fe68");
/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */
function l(e){return getComputedStyle(e)}function o(e,t){for(var n in t){var i=t[n];"number"===typeof i&&(i+="px"),e.style[n]=i}return e}function c(e){var t=document.createElement("div");return t.className=e,t}var d="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function u(e,t){if(!d)throw new Error("No element matching method supported");return d.call(e,t)}function h(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function f(e,t){return Array.prototype.filter.call(e.children,(function(e){return u(e,t)}))}var p={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},m={x:null,y:null};function v(e,t){var n=e.element.classList,i=p.state.scrolling(t);n.contains(i)?clearTimeout(m[t]):n.add(i)}function g(e,t){m[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(p.state.scrolling(t))}),e.settings.scrollingThreshold)}function b(e,t){v(e,t),g(e,t)}var w=function(e){this.element=e,this.handlers={}},C={isEmpty:{configurable:!0}};w.prototype.bind=function(e,t){"undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},w.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(i){return!(!t||i===t)||(n.element.removeEventListener(e,i,!1),!1)}))},w.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},C.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(w.prototype,C);var x=function(){this.eventElements=[]};function y(e){if("function"===typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function _(e,t,n,i,a){var r;if(void 0===i&&(i=!0),void 0===a&&(a=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}k(e,n,r,i,a)}function k(e,t,n,i,a){var r=n[0],s=n[1],l=n[2],o=n[3],c=n[4],d=n[5];void 0===i&&(i=!0),void 0===a&&(a=!1);var u=e.element;e.reach[o]=null,u[l]<1&&(e.reach[o]="start"),u[l]>e[r]-e[s]-1&&(e.reach[o]="end"),t&&(u.dispatchEvent(y("ps-scroll-"+o)),t<0?u.dispatchEvent(y("ps-scroll-"+c)):t>0&&u.dispatchEvent(y("ps-scroll-"+d)),i&&b(e,o)),e.reach[o]&&(t||a)&&u.dispatchEvent(y("ps-"+o+"-reach-"+e.reach[o]))}function S(e){return parseInt(e,10)||0}function Y(e){return u(e,"input,[contenteditable]")||u(e,"select,[contenteditable]")||u(e,"textarea,[contenteditable]")||u(e,"button,[contenteditable]")}function R(e){var t=l(e);return S(t.width)+S(t.paddingLeft)+S(t.paddingRight)+S(t.borderLeftWidth)+S(t.borderRightWidth)}x.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new w(e),this.eventElements.push(t)),t},x.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},x.prototype.unbind=function(e,t,n){var i=this.eventElement(e);i.unbind(t,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},x.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},x.prototype.once=function(e,t,n){var i=this.eventElement(e),a=function(e){i.unbind(t,a),n(e)};i.bind(t,a)};var F={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function L(e){var t=e.element,n=Math.floor(t.scrollTop),i=t.getBoundingClientRect();e.containerWidth=Math.ceil(i.width),e.containerHeight=Math.ceil(i.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(f(t,p.element.rail("x")).forEach((function(e){return h(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(f(t,p.element.rail("y")).forEach((function(e){return h(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=X(e,S(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=S((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=X(e,S(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=S(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),T(t,e),e.scrollbarXActive?t.classList.add(p.state.active("x")):(t.classList.remove(p.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(p.state.active("y")):(t.classList.remove(p.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function X(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function T(e,t){var n={width:t.railXWidth},i=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-i:n.top=t.scrollbarXTop+i,o(t.scrollbarXRail,n);var a={top:i,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?a.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:a.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?a.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:a.left=t.scrollbarYLeft+e.scrollLeft,o(t.scrollbarYRail,a),o(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),o(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function W(e){e.element;e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top,i=n>e.scrollbarYTop?1:-1;e.element.scrollTop+=i*e.containerHeight,L(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left,i=n>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=i*e.containerWidth,L(e),t.stopPropagation()}))}function $(e){P(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),P(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function P(e,t){var n=t[0],i=t[1],a=t[2],r=t[3],s=t[4],l=t[5],o=t[6],c=t[7],d=t[8],u=e.element,h=null,f=null,m=null;function b(t){t.touches&&t.touches[0]&&(t[a]=t.touches[0].pageY),u[o]=h+m*(t[a]-f),v(e,c),L(e),t.stopPropagation(),t.preventDefault()}function w(){g(e,c),e[d].classList.remove(p.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",b)}function C(t,s){h=u[o],s&&t.touches&&(t[a]=t.touches[0].pageY),f=t[a],m=(e[i]-e[n])/(e[r]-e[l]),s?e.event.bind(e.ownerDocument,"touchmove",b):(e.event.bind(e.ownerDocument,"mousemove",b),e.event.once(e.ownerDocument,"mouseup",w),t.preventDefault()),e[d].classList.add(p.state.clicking),t.stopPropagation()}e.event.bind(e[s],"mousedown",(function(e){C(e)})),e.event.bind(e[s],"touchstart",(function(e){C(e,!0)}))}function A(e){var t=e.element,n=function(){return u(t,":hover")},i=function(){return u(e.scrollbarX,":focus")||u(e.scrollbarY,":focus")};function a(n,i){var a=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===a&&i>0||a>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===r&&n<0||r>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}e.event.bind(e.ownerDocument,"keydown",(function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)&&(n()||i())){var s=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(s){if("IFRAME"===s.tagName)s=s.contentDocument.activeElement;else while(s.shadowRoot)s=s.shadowRoot.activeElement;if(Y(s))return}var l=0,o=0;switch(r.which){case 37:l=r.metaKey?-e.contentWidth:r.altKey?-e.containerWidth:-30;break;case 38:o=r.metaKey?e.contentHeight:r.altKey?e.containerHeight:30;break;case 39:l=r.metaKey?e.contentWidth:r.altKey?e.containerWidth:30;break;case 40:o=r.metaKey?-e.contentHeight:r.altKey?-e.containerHeight:-30;break;case 32:o=r.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:o=e.containerHeight;break;case 34:o=-e.containerHeight;break;case 36:o=e.contentHeight;break;case 35:o=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==l||e.settings.suppressScrollY&&0!==o||(t.scrollTop-=o,t.scrollLeft+=l,L(e),a(l,o)&&r.preventDefault())}}))}function E(e){var t=e.element;function n(n,i){var a,r=Math.floor(t.scrollTop),s=0===t.scrollTop,l=r+t.offsetHeight===t.scrollHeight,o=0===t.scrollLeft,c=t.scrollLeft+t.offsetWidth===t.scrollWidth;return a=Math.abs(i)>Math.abs(n)?s||l:o||c,!a||!e.settings.wheelPropagation}function i(e){var t=e.deltaX,n=-1*e.deltaY;return"undefined"!==typeof t&&"undefined"!==typeof n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}function a(e,n,i){if(!F.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;var a=e;while(a&&a!==t){if(a.classList.contains(p.element.consuming))return!0;var r=l(a);if(i&&r.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&i<0||a.scrollTop<s&&i>0))return!0}if(n&&r.overflowX.match(/(scroll|auto)/)){var o=a.scrollWidth-a.clientWidth;if(o>0&&(a.scrollLeft>0&&n<0||a.scrollLeft<o&&n>0))return!0}a=a.parentNode}return!1}function r(r){var s=i(r),l=s[0],o=s[1];if(!a(r.target,l,o)){var c=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(o?t.scrollTop-=o*e.settings.wheelSpeed:t.scrollTop+=l*e.settings.wheelSpeed,c=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(l?t.scrollLeft+=l*e.settings.wheelSpeed:t.scrollLeft-=o*e.settings.wheelSpeed,c=!0):(t.scrollTop-=o*e.settings.wheelSpeed,t.scrollLeft+=l*e.settings.wheelSpeed),L(e),c=c||n(l,o),c&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}"undefined"!==typeof window.onwheel?e.event.bind(t,"wheel",r):"undefined"!==typeof window.onmousewheel&&e.event.bind(t,"mousewheel",r)}function M(e){if(F.supportsTouch||F.supportsIePointer){var t=e.element,n={},i=0,a={},r=null;F.supportsTouch?(e.event.bind(t,"touchstart",u),e.event.bind(t,"touchmove",f),e.event.bind(t,"touchend",m)):F.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",u),e.event.bind(t,"pointermove",f),e.event.bind(t,"pointerup",m)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",u),e.event.bind(t,"MSPointerMove",f),e.event.bind(t,"MSPointerUp",m)))}function s(n,i){var a=Math.floor(t.scrollTop),r=t.scrollLeft,s=Math.abs(n),l=Math.abs(i);if(l>s){if(i<0&&a===e.contentHeight-e.containerHeight||i>0&&0===a)return 0===window.scrollY&&i>0&&F.isChrome}else if(s>l&&(n<0&&r===e.contentWidth-e.containerWidth||n>0&&0===r))return!0;return!0}function o(n,i){t.scrollTop-=i,t.scrollLeft-=n,L(e)}function c(e){return e.targetTouches?e.targetTouches[0]:e}function d(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function u(e){if(d(e)){var t=c(e);n.pageX=t.pageX,n.pageY=t.pageY,i=(new Date).getTime(),null!==r&&clearInterval(r)}}function h(e,n,i){if(!t.contains(e))return!1;var a=e;while(a&&a!==t){if(a.classList.contains(p.element.consuming))return!0;var r=l(a);if(i&&r.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&i<0||a.scrollTop<s&&i>0))return!0}if(n&&r.overflowX.match(/(scroll|auto)/)){var o=a.scrollWidth-a.clientWidth;if(o>0&&(a.scrollLeft>0&&n<0||a.scrollLeft<o&&n>0))return!0}a=a.parentNode}return!1}function f(e){if(d(e)){var t=c(e),r={pageX:t.pageX,pageY:t.pageY},l=r.pageX-n.pageX,u=r.pageY-n.pageY;if(h(e.target,l,u))return;o(l,u),n=r;var f=(new Date).getTime(),p=f-i;p>0&&(a.x=l/p,a.y=u/p,i=f),s(l,u)&&e.preventDefault()}}function m(){e.settings.swipeEasing&&(clearInterval(r),r=setInterval((function(){e.isInitialized?clearInterval(r):a.x||a.y?Math.abs(a.x)<.01&&Math.abs(a.y)<.01?clearInterval(r):(o(30*a.x,30*a.y),a.x*=.8,a.y*=.8):clearInterval(r)}),10))}}var H=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},j={"click-rail":W,"drag-thumb":$,keyboard:A,wheel:E,touch:M},D=function(e,t){var n=this;if(void 0===t&&(t={}),"string"===typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var i in this.element=e,e.classList.add(p.main),this.settings=H(),t)this.settings[i]=t[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var a=function(){return e.classList.add(p.state.focus)},r=function(){return e.classList.remove(p.state.focus)};this.isRtl="rtl"===l(e).direction,!0===this.isRtl&&e.classList.add(p.rtl),this.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new x,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=c(p.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=c(p.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",r),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var s=l(this.scrollbarXRail);this.scrollbarXBottom=parseInt(s.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=S(s.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=S(s.borderLeftWidth)+S(s.borderRightWidth),o(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=S(s.marginLeft)+S(s.marginRight),o(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=c(p.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=c(p.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",r),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var d=l(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=S(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?R(this.scrollbarY):null,this.railBorderYWidth=S(d.borderTopWidth)+S(d.borderBottomWidth),o(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=S(d.marginTop)+S(d.marginBottom),o(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return j[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),L(this)};D.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,o(this.scrollbarXRail,{display:"block"}),o(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=S(l(this.scrollbarXRail).marginLeft)+S(l(this.scrollbarXRail).marginRight),this.railYMarginHeight=S(l(this.scrollbarYRail).marginTop)+S(l(this.scrollbarYRail).marginBottom),o(this.scrollbarXRail,{display:"none"}),o(this.scrollbarYRail,{display:"none"}),L(this),_(this,"top",0,!1,!0),_(this,"left",0,!1,!0),o(this.scrollbarXRail,{display:""}),o(this.scrollbarYRail,{display:""}))},D.prototype.onScroll=function(e){this.isAlive&&(L(this),_(this,"top",this.element.scrollTop-this.lastScrollTop),_(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},D.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),h(this.scrollbarX),h(this.scrollbarY),h(this.scrollbarXRail),h(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},D.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var N=D,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card file-manager-item file"},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"file_"+e.file.path},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,i=t.target,a=!!i.checked;if(Array.isArray(n)){var r=null,s=e._i(n,r);i.checked?s<0&&(e.checked=n.concat([r])):s>-1&&(e.checked=n.slice(0,s).concat(n.slice(s+1)))}else e.checked=a}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"file_"+e.file.path}})]),n("div",{staticClass:"card-img-top file-logo-wrapper",style:e.getStyle()},[n("div",{staticClass:"dropdown float-right px-50"},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{attrs:{"data-feather":"more-vertical"}})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{icon:"el-icon-download",command:"download"}},[e._v(e._s(e.$t("Download")))]),e.canPreview?n("el-dropdown-item",{attrs:{icon:"el-icon-view",command:"preview"}},[e._v(e._s(e.$t("Preview")))]):e._e(),n("el-dropdown-item",{attrs:{icon:"el-icon-copy-document",command:"duplicate"}},[e._v("Make a copy")]),n("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"rename"}},[e._v(e._s(e.$t("Rename")))]),n("el-dropdown-item",{attrs:{icon:"el-icon-info",command:"info"}},[e._v(e._s(e.$t("Info")))]),n("el-dropdown-item",{attrs:{icon:"el-icon-delete",command:"delete"}},[e._v(e._s(e.$t("Delete")))])],1)],1)],1),n("div",{staticClass:"d-flex align-items-center justify-content-center w-100"},[e.canPreviewImage?["list"==e.mode?n("el-image",{attrs:{src:e.preview_url,lazy:""}}):e._e()]:n("i",{class:e.getIcon(e.file.extension)})],2)]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"content-wrapper",on:{click:e.clickContent}},[n("p",{staticClass:"card-text file-name mb-0",domProps:{textContent:e._s(e.file.name)}}),n("p",{staticClass:"card-text file-size mb-0",domProps:{textContent:e._s(e.file.size_display)}}),n("p",{staticClass:"card-text file-date",domProps:{textContent:e._s(e.file.last_modified)}})]),n("small",{staticClass:"file-accessed text-muted",domProps:{textContent:e._s("Last modify: "+e.file.last_modified)}})]),e.show_info?n("el-drawer",{attrs:{visible:e.show_info,"append-to-body":""},on:{"update:visible":function(t){e.show_info=t}}},[e.show_info?n("vx-file-manager-info",{attrs:{show:e.show_info,data:Object.assign({},e.file,{icon:e.getIcon(e.file.extension)})},on:{"update:show":function(t){e.show_info=t}}}):e._e()],1):e._e()],1)},I=[],B=n("f9d8"),z=n("77c6"),K=n.n(z),U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"p-0"},[n("div",{staticClass:"\n        modal-header\n        d-flex\n        align-items-center\n        justify-content-between\n        mb-1\n        p-2\n      "},[n("h5",{staticClass:"modal-title",domProps:{textContent:e._s(e.data.name)}})]),n("div",{staticClass:"modal-body flex-grow-1 pb-sm-0 pb-1"},[n("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[n("div",{staticClass:"tab-pane fade show active",attrs:{id:"details-tab",role:"tabpanel","aria-labelledby":"details-tab"}},[n("div",{staticClass:"\n              d-flex\n              flex-column\n              justify-content-center\n              align-items-center\n              py-5\n            "},[n("i",{staticClass:"fa-6x",class:e.data.icon}),n("p",{staticClass:"mb-0 mt-1",domProps:{textContent:e._s(e.data.size_display)}})]),n("h6",{staticClass:"file-manager-title my-2"},[e._v("Info")]),n("ul",{staticClass:"list-unstyled"},[n("li",{staticClass:"d-flex justify-content-between align-items-center"},[n("p",[e._v("Type")]),n("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.extension)}})]),n("li",{staticClass:"d-flex justify-content-between align-items-center"},[n("p",[e._v("Mime type")]),n("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.mime_type)}})]),n("li",{staticClass:"d-flex justify-content-between align-items-center"},[n("p",[e._v("Size")]),n("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.size)}})]),n("li",{staticClass:"d-flex justify-content-between align-items-center"},[n("p",[e._v("Location")]),n("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.path)}})]),n("li",{staticClass:"d-flex justify-content-between align-items-center"},[n("p",[e._v("Modified")]),n("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.last_modified)}})])])]),e._m(0)])])])])},V=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab-pane fade",attrs:{id:"activity-tab",role:"tabpanel","aria-labelledby":"activity-tab"}},[n("h6",{staticClass:"file-manager-title my-2"},[e._v("Today")]),n("div",{staticClass:"media align-items-center mb-2"},[n("div",{staticClass:"avatar avatar-sm mr-50"},[n("img",{attrs:{src:"/images/avatars/5-small.png",alt:"avatar",width:"28"}})]),n("div",{staticClass:"media-body"},[n("p",{staticClass:"mb-0"},[n("span",{staticClass:"font-weight-bold"},[e._v("Mae")]),e._v(" shared the file with "),n("span",{staticClass:"font-weight-bold"},[e._v("Howard")])])])]),n("div",{staticClass:"media align-items-center"},[n("div",{staticClass:"avatar avatar-sm bg-light-primary mr-50"},[n("span",{staticClass:"avatar-content"},[e._v("SC")])]),n("div",{staticClass:"media-body"},[n("p",{staticClass:"mb-0"},[n("span",{staticClass:"font-weight-bold"},[e._v("Sheldon")]),e._v(" updated the file ")])])]),n("h6",{staticClass:"file-manager-title mt-3 mb-2"},[e._v("Yesterday")]),n("div",{staticClass:"media align-items-center mb-2"},[n("div",{staticClass:"avatar avatar-sm bg-light-success mr-50"},[n("span",{staticClass:"avatar-content"},[e._v("LH")])]),n("div",{staticClass:"media-body"},[n("p",{staticClass:"mb-0"},[n("span",{staticClass:"font-weight-bold"},[e._v("Leonard")]),e._v(" renamed this file to "),n("span",{staticClass:"font-weight-bold"},[e._v("menu.js")])])])]),n("div",{staticClass:"media align-items-center"},[n("div",{staticClass:"avatar avatar-sm mr-50"},[n("img",{attrs:{src:"/images/portrait/small/avatar-s-1.jpg",alt:"Avatar",width:"28"}})]),n("div",{staticClass:"media-body"},[n("p",{staticClass:"mb-0"},[n("span",{staticClass:"font-weight-bold"},[e._v("You")]),e._v(" shared this file with Leonard ")])])]),n("h6",{staticClass:"file-manager-title mt-3 mb-2"},[e._v("3 days ago")]),n("div",{staticClass:"media"},[n("div",{staticClass:"avatar avatar-sm mr-50"},[n("img",{attrs:{src:"/images/portrait/small/avatar-s-1.jpg",alt:"Avatar",width:"28"}})]),n("div",{staticClass:"media-body"},[n("p",{staticClass:"mb-50"},[n("span",{staticClass:"font-weight-bold"},[e._v("You")]),e._v(" uploaded this file ")]),n("img",{staticClass:"mr-50",attrs:{src:"/images/icons/js.png",alt:"Avatar",height:"24"}}),n("span",{staticClass:"font-weight-bold"},[e._v("app.js")])])])])}],q={props:{data:Object},created:function(){console.log(this.data)}},J=q,G=n("2877"),Q=Object(G["a"])(J,U,V,!1,null,null,null),Z=Q.exports,ee={components:{vxFileManagerInfo:Z},props:{file:Object,mode:String,defaultAction:String,preview:Boolean},data:function(){return{checked:this.file.selected,url:null,show_info:!1,preview_url:null}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.canPreview&&(e.preview_url="".concat(e.$vx.endpoint,"photo/0/").concat(e.file.path,"?w=200")),K.a.replace({width:14,height:14});case 2:case"end":return t.stop()}}),t)})))()},watch:{checked:function(){this.checked?this.$emit("selected",this.file.path):this.$emit("unselected",this.file.path)}},computed:{canPreviewImage:function(){return!!this.preview&&("image/jpeg"==this.file.mime_type||("image/png"==this.file.mime_type||"image/gif"==this.file.mime_type))},canPreview:function(){return!!this.canPreviewImage||"application/pdf"==this.file.mime_type}},methods:{isPDF:function(){return"application/pdf"==this.file.mime_type},getStyle:function(){if("grid"==this.mode)return{background:"url(".concat(this.url,") no-repeat center center"),backgroundSize:"cover"}},clickContent:function(){"preview"!=this.defaultAction?this.$emit("input",this.file.path):this.canPreview&&this.handleCommand("preview")},getIcon:function(e){var t,n={pdf:"far fa-lg fa-file-pdf",jpg:"far fa-lg fa-file-image",png:"far fa-lg fa-file-image",gif:"far fa-lg fa-file-image",js:"fa fa-lg fa-js-square",xls:"far fa-lg fa-file-excel",xlsx:"far fa-lg fa-file-excel",doc:"far fa-lg fa-file-word",docx:"far fa-lg fa-file-word"},i=null!==(t=n[e])&&void 0!==t?t:"far fa-file fa-lg";return"grid"==this.mode&&(i+=" fa-5x"),i},handleCommand:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("info"!=e){n.next=4;break}return t.show_info=!0,console.log(t.file),n.abrupt("return");case 4:"delete"==e&&t.$confirm("Delete ".concat(t.file.name,"?"),{type:"warning"}).then((function(){t.$emit("delete",t.file.path)})),"rename"==e&&t.$prompt("Please input new file name",{inputValue:t.file.name}).then((function(e){var n=e.value;t.$emit("rename",{path:t.file.path,name:n})})),"duplicate"==e&&t.$emit("duplicate",t.file.path),"preview"==e&&(t.isPDF()?B["a"].show([{src:t.$vx.endpoint+"drive/0/"+t.file.path,opts:{type:"pdf"}}]):B["a"].show([{src:t.$vx.endpoint+"drive/0/"+t.file.path,type:"image"}])),"download"==e&&(i=document.createElement("a"),i.href="".concat(t.$vx.endpoint,"drive/0/").concat(t.file.path,"?_token=").concat(t.$vx.accessToken),i.download=t.file.name,i.click());case 9:case"end":return n.stop()}}),n)})))()}}},te=ee,ne=Object(G["a"])(te,O,I,!1,null,null,null),ie=ne.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card file-manager-item folder"},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"folder_"+e.folder.path},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,i=t.target,a=!!i.checked;if(Array.isArray(n)){var r=null,s=e._i(n,r);i.checked?s<0&&(e.checked=n.concat([r])):s>-1&&(e.checked=n.slice(0,s).concat(n.slice(s+1)))}else e.checked=a}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"folder_"+e.folder.path}})]),n("div",{staticClass:"card-img-top file-logo-wrapper"},[n("div",{staticClass:"dropdown float-right px-50"},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{attrs:{"data-feather":"more-vertical"}})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"rename"}},[e._v(e._s(e.$t("Rename")))]),n("el-dropdown-item",{attrs:{icon:"el-icon-delete",command:"delete"}},[e._v(e._s(e.$t("Delete")))])],1)],1)],1),n("div",{staticClass:"d-flex align-items-center justify-content-center w-100",on:{click:e.clickContent}},[n("i",{attrs:{"data-feather":"folder"}})])]),n("div",{staticClass:"card-body",on:{click:e.clickContent}},[n("div",{staticClass:"content-wrapper"},[n("p",{staticClass:"card-text file-name mb-0",domProps:{textContent:e._s(e.folder.name)}}),n("p",{staticClass:"card-text file-size mb-0",domProps:{textContent:e._s(e.folder.size)}}),n("p",{staticClass:"card-text file-date",domProps:{textContent:e._s(e.folder.last_modified)}})]),n("small",{staticClass:"file-accessed text-muted",domProps:{textContent:e._s("Last modify: "+e.folder.last_modified_human)}})])])},re=[],se={props:{folder:Object},data:function(){return{checked:!1}},mounted:function(){K.a.replace({width:14,height:14})},watch:{checked:function(){this.checked?this.$emit("selected",this.folder.path):this.$emit("unselected",this.folder.path)}},methods:{clickContent:function(){this.$emit("input",this.folder.path)},handleCommand:function(e){var t=this;"delete"==e&&this.$confirm("Delete ".concat(this.folder.name,"?")).then((function(){t.$emit("delete",t.folder.path)})),"rename"==e&&this.$prompt("Please input new folder name",{inputValue:this.folder.name}).then((function(e){var n=e.value;t.$emit("rename",{path:t.folder.path,name:n})}))}}},le=se,oe=Object(G["a"])(le,ae,re,!1,null,null,null),ce=oe.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-group list-group-labels"},[n("h6",{staticClass:"section-label px-2 mb-1"},[e._v("Labels")]),null==e.fileType?n("a",{staticClass:"list-group-item list-group-item-action",class:{active:"document"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.toggleLabel("document")}}},[n("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"file-text"}}),n("span",{directives:[{name:"t",rawName:"v-t",value:"Documents",expression:"'Documents'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType||"image"==e.fileType?n("a",{staticClass:"list-group-item list-group-item-action",class:{active:"image"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.toggleLabel("image")}}},[n("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"image"}}),n("span",{directives:[{name:"t",rawName:"v-t",value:"Images",expression:"'Images'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType?n("a",{staticClass:"list-group-item list-group-item-action",class:{active:"video"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.toggleLabel("video")}}},[n("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"video"}}),n("span",{directives:[{name:"t",rawName:"v-t",value:"Videos",expression:"'Videos'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType?n("a",{staticClass:"list-group-item list-group-item-action",class:{active:"audio"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.toggleLabel("audio")}}},[n("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"music"}}),n("span",{directives:[{name:"t",rawName:"v-t",value:"Audio",expression:"'Audio'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType?n("a",{staticClass:"list-group-item list-group-item-action",class:{active:"archive"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.toggleLabel("archive")}}},[n("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"layers"}}),n("span",{staticClass:"align-middle"},[e._v("Archives")])]):e._e()])},ue=[],he={props:{fileType:String,value:String},methods:{toggleLabel:function(e){this.value==e?this.$emit("input",null):this.$emit("input",e)}}},fe=he,pe=Object(G["a"])(fe,de,ue,!1,null,null,null),me=pe.exports,ve={name:"vx-file-manager",components:{"vx-file-manager-file":ie,"vx-file-manager-folder":ce,VxFileManagerLabels:me},props:{base:{type:String,default:""},defaultAction:{default:"preview",type:String},fileType:String,accept:String,multiple:Boolean,preview:Boolean},data:function(){return{showSelectFolder:!1,showSidebar:!1,parentPath:"",selectedPath:this.base,selectedNode:null,files:[],folders:[],mode:"list",selectedFolder:[],selectedFile:[],file_uploader:!1,action:"",uploadHeaders:null,type:null,search_text:"",nextSelectedFiles:[],sorting:null}},created:function(){this.reloadContent(),this.action=this.$vx.endpoint+"FileManager/uploadFile",this.uploadHeaders={Authorization:"Bearer "+this.$vx.accessToken}},mounted:function(){new N(this.$refs.fileContent),K.a.replace({width:14,height:14})},watch:{selectedPath:function(){this.reloadContent()}},computed:{displayFolders:function(){var e=this.folders;return"ascending"==this.sorting?e.sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0})):"descending"==this.sorting&&e.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?-1:e.name.toLowerCase()<t.name.toLowerCase()?1:0})),e},displayFiles:function(){var e=this.files;return"ascending"==this.sorting?e=e.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})):"descending"==this.sorting&&(e=e.sort((function(e,t){return e.name>t.name?-1:e.name<t.name?1:0}))),e},showSelectButton:function(){return 0!==this.selectedFile.length&&!(this.selectedFile.length>1&&!this.multiple)},showLevelUp:function(){return""!=this.selectedPath}},methods:{onAscending:function(){"ascending"==this.sorting?this.sorting=null:this.sorting="ascending"},onDescending:function(){"descending"==this.sorting?this.sorting=null:this.sorting="descending"},moveSelectedTo:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.$confirm("Move selected file to ".concat(e.path,"?"));case 4:t.showSelectFolder=!1,i=Object(r["a"])(t.selectedFile),n.prev=6,i.s();case 8:if((a=i.n()).done){n.next=14;break}return s=a.value,n.next=12,t.$vx.post("/FileManager/moveFile",{path:s,target:e.path});case 12:n.next=8;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](6),i.e(n.t0);case 19:return n.prev=19,i.f(),n.finish(19);case 22:t.selectedFile=[],t.reloadContent();case 24:case"end":return n.stop()}}),n,null,[[6,16,19,22]])})))()},allowDrop:function(e,t,n){return"inner"==n},handleDrop:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,r,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,n.$confirm("Moving ".concat(e.data.path," to ").concat(t.data.path),{type:"warning"});case 3:return i.next=5,n.moveFolder(e.data.path,t.data.path);case 5:a=n.$refs.tree.getNode(t.data.path),a.loaded=!1,a.expand(),i.next=16;break;case 10:i.prev=10,i.t0=i["catch"](0),r=e.data,s=n.$refs.tree.getNode(r.location),s.loaded=!1,s.expand();case 16:case"end":return i.stop()}}),i,null,[[0,10]])})))()},handleDragEnd:function(e,t,n,i){console.log("drop end")},onSearch:function(){this.$nextTick(this.reloadContent)},onLevelUp:function(){console.log(this.parentPath),this.folderClicked(this.parentPath)},folderClicked:function(e){this.$refs.tree.setCurrentKey(e),this.selectedPath=e},selectClicked:function(){this.$emit("input",this.selectedFile)},inputFile:function(e){this.$emit("input",e)},onErrorUpload:function(e){console.log(e),this.$message.error("upload failed!")},onSuccessUpload:function(e,t,n){console.log("upload success",e.data.path,t,n),this.nextSelectedFiles.push(e.data.path),this.reloadContent()},listFiles:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.type=e,t.reloadContent();case 2:case"end":return n.stop()}}),n)})))()},deleteSelected:function(){var e=this;this.$confirm("Delete?",{type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){var n,i,a,s,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(r["a"])(e.selectedFolder),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=11;break}return a=i.value,t.next=7,e.$vx.post("/FileManager/deleteFolder",{path:a});case 7:return t.next=9,e.$refs.tree.remove(a);case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),n.e(t.t0);case 16:return t.prev=16,n.f(),t.finish(16);case 19:s=Object(r["a"])(e.selectedFile),t.prev=20,s.s();case 22:if((l=s.n()).done){t.next=28;break}return o=l.value,t.next=26,e.$vx.post("/FileManager/deleteFile",{path:o});case 26:t.next=22;break;case 28:t.next=33;break;case 30:t.prev=30,t.t1=t["catch"](20),s.e(t.t1);case 33:return t.prev=33,s.f(),t.finish(33);case 36:e.selectedFolder=[],e.selectedFile=[],e.reloadContent();case 39:case"end":return t.stop()}}),t,null,[[1,13,16,19],[20,30,33,36]])}))))},selectFolder:function(e){this.selectedFolder.push(e)},unselectFolder:function(e){this.selectedFolder=this.selectedFolder.filter((function(t){return t!=e}))},addNew:function(e){var t=this,n=this.$refs.tree.getCurrentNode();n?("file"==e&&(this.file_uploader=!0),"folder"==e&&this.$prompt("Please input new folder name").then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=n.value,e.next=3,t.$vx.post("/FileManager/createFolder",{path:t.selectedPath+"/"+i});case 3:return a=e.sent,r=a.data,t.$refs.tree.append(r,t.$refs.tree.getCurrentNode()),e.next=8,t.reloadContent();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):this.$message.warning("Please select folder")},loadNode:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(0!==e.level){i.next=4;break}return t([{label:"My storage",path:n.base}]),n.$nextTick((function(){n.$refs.tree.setCurrentKey(n.base)})),i.abrupt("return");case 4:return i.next=6,n.$vx.get("/FileManager/listDirectory",{params:{path:e.data.path}});case 6:return a=i.sent,r=a.data,i.abrupt("return",t(r));case 9:case"end":return i.stop()}}),i)})))()},handleNodeClick:function(e){this.type=null,this.selectedPath=e.path,this.selectedNode=e,this.selectedFolder=[]},reloadContent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,i,a,s,l,o,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.file_uploader=!1,e.selectedFolder=[],e.selectedFile=[],!e.type){t.next=22;break}if("recent"!=e.type){t.next=12;break}return t.next=7,e.$vx.get("/FileManager/listRecentFiles",{params:{file_type:e.fileType}});case 7:return n=t.sent,i=n.data,e.files=i,e.folders=[],t.abrupt("return");case 12:return t.next=14,e.$vx.get("/FileManager/listFiles",{params:{path:e.base,type:e.type}});case 14:if(a=t.sent,s=a.data,!s.error){t.next=19;break}return e.$message.error(s.error.message),t.abrupt("return");case 19:return e.files=s,e.folders=[],t.abrupt("return");case 22:return e.files=[],e.folders=[],t.next=26,e.$vx.get("/FileManager/listContents",{params:{path:e.selectedPath,file_type:e.fileType,search:e.search_text}});case 26:l=t.sent,o=l.data,e.parentPath=o.parent,e.files=o.files,c=Object(r["a"])(e.files);try{for(c.s();!(d=c.n()).done;)u=d.value,console.log(u.path),u.selected=e.nextSelectedFiles.includes(u.path),u.selected&&e.selectedFile.push(u.path)}catch(h){c.e(h)}finally{c.f()}console.log(e.selectedFile),e.folders=o.folders;case 34:case"end":return t.stop()}}),t)})))()},deleteFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$vx.post("/FileManager/deleteFile",{path:e});case 2:t.reloadContent();case 3:case"end":return n.stop()}}),n)})))()},renameFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$vx.post("/FileManager/renameFile",e);case 2:i=n.sent.data,i.error?t.$message.error(i.error.message):t.reloadContent();case 4:case"end":return n.stop()}}),n)})))()},duplicateFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$vx.post("/FileManager/duplicateFile",{path:e});case 2:t.reloadContent();case 3:case"end":return n.stop()}}),n)})))()},deleteFolder:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$vx.post("/FileManager/deleteFolder",{path:e});case 2:t.reloadContent(),t.$refs.tree.remove(e);case 4:case"end":return n.stop()}}),n)})))()},renameFolder:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$vx.post("/FileManager/renameFolder",e);case 2:i=n.sent.data,t.reloadContent(),t.$refs.tree.remove(e.path),t.$refs.tree.append(i,t.selectedNode);case 6:case"end":return n.stop()}}),n)})))()},moveFolder:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.$vx.post("/FileManager/moveFolder",{path:e,target:t});case 2:a=i.sent,r=a.data,r.error&&n.$alert(r.error.message,{type:"error"}),n.reloadContent();case 6:case"end":return i.stop()}}),i)})))()}}},ge=ve,be=(n("5284"),Object(G["a"])(ge,i,a,!1,null,"d014d43e",null));t["default"]=be.exports},2532:function(e,t,n){"use strict";var i=n("23e7"),a=n("5a34"),r=n("1d80"),s=n("ab13");i({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(r(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"4e82":function(e,t,n){"use strict";var i=n("23e7"),a=n("1c0b"),r=n("7b0b"),s=n("50c4"),l=n("d039"),o=n("addb"),c=n("a640"),d=n("04d1"),u=n("d998"),h=n("2d00"),f=n("512ce"),p=[],m=p.sort,v=l((function(){p.sort(void 0)})),g=l((function(){p.sort(null)})),b=c("sort"),w=!l((function(){if(h)return h<70;if(!(d&&d>3)){if(u)return!0;if(f)return f<603;var e,t,n,i,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)p.push({k:t+i,v:n})}for(p.sort((function(e,t){return t.v-e.v})),i=0;i<p.length;i++)t=p[i].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}})),C=v||!g||!b||!w,x=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:String(t)>String(n)?1:-1}};i({target:"Array",proto:!0,forced:C},{sort:function(e){void 0!==e&&a(e);var t=r(this);if(w)return void 0===e?m.call(t):m.call(t,e);var n,i,l=[],c=s(t.length);for(i=0;i<c;i++)i in t&&l.push(t[i]);l=o(l,x(e)),n=l.length,i=0;while(i<n)t[i]=l[i++];while(i<c)delete t[i++];return t}})},"512ce":function(e,t,n){var i=n("342f"),a=i.match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},5284:function(e,t,n){"use strict";n("0b87")},"5a34":function(e,t,n){var i=n("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},"649b":function(e,t,n){},ab13:function(e,t,n){var i=n("b622"),a=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(i){}}return!1}},addb:function(e,t){var n=Math.floor,i=function(e,t){var s=e.length,l=n(s/2);return s<8?a(e,t):r(i(e.slice(0,l),t),i(e.slice(l),t),t)},a=function(e,t){var n,i,a=e.length,r=1;while(r<a){i=r,n=e[r];while(i&&t(e[i-1],n)>0)e[i]=e[--i];i!==r++&&(e[i]=n)}return e},r=function(e,t,n){var i=e.length,a=t.length,r=0,s=0,l=[];while(r<i||s<a)r<i&&s<a?l.push(n(e[r],t[s])<=0?e[r++]:t[s++]):l.push(r<i?e[r++]:t[s++]);return l};e.exports=i},caad:function(e,t,n){"use strict";var i=n("23e7"),a=n("4d64").includes,r=n("44d2");i({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},d998:function(e,t,n){var i=n("342f");e.exports=/MSIE|Trident/.test(i)},fe68:function(e,t,n){}}]);
//# sourceMappingURL=chunk-60c0f354.06cc9c1c.js.map