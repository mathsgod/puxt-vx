(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06cf6aba"],{"1a53":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-manager-application vx-file-manager"},[i("div",{staticClass:"content-area-wrapper vx-file-manager-content"},[i("div",{staticClass:"sidebar-left"},[i("div",{staticClass:"sidebar"},[i("div",{staticClass:"sidebar-file-manager",class:{show:e.showSidebar}},[i("div",{staticClass:"sidebar-inner"},[i("el-dropdown",{staticClass:"w-100 pl-2 pt-2 pr-2 mb-2",attrs:{trigger:"click"},on:{command:e.addNew}},[i("el-button",{staticClass:"w-100",attrs:{type:"primary",disabled:null!=e.type}},[e._v(" Add New ")]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{directives:[{name:"t",rawName:"v-t",value:"Folder",expression:"'Folder'"}],attrs:{command:"folder"}}),i("el-dropdown-item",{directives:[{name:"t",rawName:"v-t",value:"File",expression:"'File'"}],attrs:{command:"file"}})],1)],1),i("div",{ref:"sidebarList",staticClass:"sidebar-list"},[i("el-tree",{ref:"tree",staticClass:"mb-2",attrs:{draggable:"",lazy:"",load:e.loadNode,"node-key":"path","expand-on-click-node":!1,"default-expanded-keys":[e.base],"allow-drop":e.allowDrop,"highlight-current":!0},on:{"node-click":e.handleNodeClick,"node-drag-end":e.handleDragEnd,"node-drop":e.handleDrop}}),i("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.listFiles("recent")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"clock"}}),i("span",{staticClass:"align-middle"},[e._v("Recents")])]),i("vx-file-manager-labels",{attrs:{"default-action":e.defaultAction,"file-type":e.fileType,value:e.type},on:{input:function(t){return e.listFiles(t)}}})],1)],1)])])]),i("div",{staticClass:"content-right"},[i("div",{staticClass:"content-wrapper"},[i("div",{staticClass:"content-header row"}),i("div",{staticClass:"content-body"},[i("div",{ref:"overlay",staticClass:"body-content-overlay",class:{show:e.showSidebar},on:{click:function(t){e.showSidebar=!1}}}),i("div",{staticClass:"file-manager-main-content"},[i("div",{staticClass:"\n                file-manager-content-header\n                d-flex\n                justify-content-between\n                align-items-center\n              "},[i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticClass:"\n                    sidebar-toggle\n                    d-block d-xl-none\n                    float-left\n                    align-middle\n                    ml-1\n                  ",on:{click:function(t){e.showSidebar=!e.showSidebar}}},[i("i",{staticClass:"font-medium-5",attrs:{"data-feather":"menu"}})]),i("div",{staticClass:"\n                    input-group input-group-merge\n                    shadow-none\n                    m-0\n                    flex-grow-1\n                  "},[i("div",{staticClass:"input-group-prepend"},[i("span",{staticClass:"input-group-text border-0"},[i("vx-icon",{attrs:{name:"search",width:"14"}})],1)]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_text,expression:"search_text"}],staticClass:"form-control files-filter border-0 bg-transparent",attrs:{type:"text",placeholder:e.$t("Search")},domProps:{value:e.search_text},on:{keyup:function(t){return e.onSearch(t)},input:function(t){t.target.composing||(e.search_text=t.target.value)}}})])]),i("div",{staticClass:"d-flex align-items-center"},[e.selectedFolder.length+e.selectedFile.length>0?i("el-button-group",[i("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.deleteSelected}},[e._v("Delete")]),e.selectedFile.length>0?[e.showSelectButton?i("el-button",{attrs:{icon:"el-icon-document-checked"},on:{click:e.selectClicked}},[e._v(" Select ")]):e._e(),i("el-button",{on:{click:function(t){e.showSelectFolder=!0}}},[e._v("Move")])]:e._e()],2):e._e(),i("el-button-group",[i("el-button",{staticClass:"active",attrs:{icon:"el-icon-menu"},on:{click:function(t){e.mode="grid"}}}),i("el-button",{on:{click:function(t){e.mode="list"}}},[i("i",{staticClass:"fa fa-list"})])],1)],1)]),i("div",{ref:"fileContent",staticClass:"file-manager-content-body"},[e.file_uploader?[i("el-upload",{ref:"uploads",staticClass:"upload-demo",attrs:{drag:"",action:e.action,multiple:"",headers:e.uploadHeaders,data:{path:e.selectedPath},"on-success":e.onSuccessUpload,"on-error":e.onErrorUpload,accept:e.accept}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[e._v(" Drop file here or "),i("em",[e._v("click to upload")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Files with a size less than "+e._s(e.$vx.file_upload_max_size)+" ")])]),i("el-divider")]:e._e(),i("div",{staticClass:"view-container",class:"list"==e.mode?"list-view":""},[i("h6",{staticClass:"files-section-title mt-25 mb-75"},[e._v("Folders")]),i("div",{staticClass:"files-header"},[i("h6",{directives:[{name:"t",rawName:"v-t",value:"Name",expression:"'Name'"}],staticClass:"font-weight-bold mb-0"}),i("div",[i("h6",{directives:[{name:"t",rawName:"v-t",value:"Size",expression:"'Size'"}],staticClass:"\n                        font-weight-bold\n                        file-item-size\n                        d-inline-block\n                        mb-0\n                      "}),i("h6",{directives:[{name:"t",rawName:"v-t",value:"Date modified",expression:"'Date modified'"}],staticClass:"\n                        font-weight-bold\n                        file-last-modified\n                        d-inline-block\n                        mb-0\n                      "}),i("h6",{staticClass:"font-weight-bold d-inline-block mr-1 mb-0"},[e._v(" Actions ")])])]),e.showLevelUp?i("div",{staticClass:"card file-manager-item folder level-up",on:{click:e.onLevelUp}},[e._m(0),e._m(1)]):e._e(),e._l(e.folders,(function(t,n){return i("vx-file-manager-folder",{key:n,attrs:{folder:t},on:{delete:function(t){return e.deleteFolder(t)},selected:function(t){return e.selectFolder(t)},unselected:function(t){return e.unselectFolder(t)},rename:function(t){return e.renameFolder(t)},input:function(t){return e.folderClicked(t)}}})})),""!=e.search_text&&0==e.folders.length?i("div",{staticClass:"flex-grow-1 align-items-center no-result mb-3"},[i("i",{staticClass:"fa fa-exclamation-circle mr-50"}),e._v(" No Results ")]):e._e()],2),i("div",{staticClass:"view-container",class:"list"==e.mode?"list-view":""},[i("h6",{staticClass:"files-section-title mt-2 mb-75"},[e._v("Files")]),e._l(e.files,(function(t){return i("vx-file-manager-file",{key:t.path,attrs:{mode:e.mode,file:t},on:{delete:function(t){return e.deleteFile(t)},rename:function(t){return e.renameFile(t)},duplicate:function(t){return e.duplicateFile(t)},selected:function(t){return e.selectedFile.push(t)},unselected:function(t){e.selectedFile=e.selectedFile.filter((function(e){return e!=t}))},input:function(t){return e.inputFile(t)}}})})),""!=e.search_text&&0==e.files.length?i("div",{staticClass:"flex-grow-1 align-items-center no-result mb-3"},[i("i",{staticClass:"fa fa-exclamation-circle mr-50"}),e._v(" No Results ")]):e._e()],2)],2)])])])])]),e.showSelectFolder?i("el-dialog",{attrs:{title:"Select folder ...",visible:e.showSelectFolder},on:{"update:visible":function(t){e.showSelectFolder=t}}},[i("el-tree",{ref:"tree2",staticClass:"mb-1",attrs:{lazy:"",load:e.loadNode,"node-key":"path","expand-on-click-node":!1,"default-expanded-keys":[e.base],"highlight-current":!0}}),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.moveSelectedTo(e.$refs.tree2.getCurrentNode())}}},[e._v("Select")])],1):e._e()],1)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-img-top file-logo-wrapper"},[i("div",{staticClass:"\n                        d-flex\n                        align-items-center\n                        justify-content-center\n                        w-100\n                      "},[i("i",{staticClass:"fa fa-arrow-up"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-body pl-2 pt-0 pb-1"},[i("div",{staticClass:"content-wrapper"},[i("p",{staticClass:"card-text file-name mb-0"},[e._v("...")])])])}],r=i("b85c"),s=i("1da1");i("96cf"),i("ac1f"),i("5319"),i("99af"),i("4de4"),i("caad"),i("2532"),i("649b"),i("fe68");
/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */
function l(e){return getComputedStyle(e)}function o(e,t){for(var i in t){var n=t[i];"number"===typeof n&&(n+="px"),e.style[i]=n}return e}function c(e){var t=document.createElement("div");return t.className=e,t}var d="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function u(e,t){if(!d)throw new Error("No element matching method supported");return d.call(e,t)}function h(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function f(e,t){return Array.prototype.filter.call(e.children,(function(e){return u(e,t)}))}var p={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},m={x:null,y:null};function v(e,t){var i=e.element.classList,n=p.state.scrolling(t);i.contains(n)?clearTimeout(m[t]):i.add(n)}function g(e,t){m[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(p.state.scrolling(t))}),e.settings.scrollingThreshold)}function b(e,t){v(e,t),g(e,t)}var w=function(e){this.element=e,this.handlers={}},C={isEmpty:{configurable:!0}};w.prototype.bind=function(e,t){"undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},w.prototype.unbind=function(e,t){var i=this;this.handlers[e]=this.handlers[e].filter((function(n){return!(!t||n===t)||(i.element.removeEventListener(e,n,!1),!1)}))},w.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},C.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(w.prototype,C);var x=function(){this.eventElements=[]};function y(e){if("function"===typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function _(e,t,i,n,a){var r;if(void 0===n&&(n=!0),void 0===a&&(a=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}k(e,i,r,n,a)}function k(e,t,i,n,a){var r=i[0],s=i[1],l=i[2],o=i[3],c=i[4],d=i[5];void 0===n&&(n=!0),void 0===a&&(a=!1);var u=e.element;e.reach[o]=null,u[l]<1&&(e.reach[o]="start"),u[l]>e[r]-e[s]-1&&(e.reach[o]="end"),t&&(u.dispatchEvent(y("ps-scroll-"+o)),t<0?u.dispatchEvent(y("ps-scroll-"+c)):t>0&&u.dispatchEvent(y("ps-scroll-"+d)),n&&b(e,o)),e.reach[o]&&(t||a)&&u.dispatchEvent(y("ps-"+o+"-reach-"+e.reach[o]))}function Y(e){return parseInt(e,10)||0}function R(e){return u(e,"input,[contenteditable]")||u(e,"select,[contenteditable]")||u(e,"textarea,[contenteditable]")||u(e,"button,[contenteditable]")}function S(e){var t=l(e);return Y(t.width)+Y(t.paddingLeft)+Y(t.paddingRight)+Y(t.borderLeftWidth)+Y(t.borderRightWidth)}x.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new w(e),this.eventElements.push(t)),t},x.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},x.prototype.unbind=function(e,t,i){var n=this.eventElement(e);n.unbind(t,i),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},x.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},x.prototype.once=function(e,t,i){var n=this.eventElement(e),a=function(e){n.unbind(t,a),i(e)};n.bind(t,a)};var F={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function X(e){var t=e.element,i=Math.floor(t.scrollTop),n=t.getBoundingClientRect();e.containerWidth=Math.ceil(n.width),e.containerHeight=Math.ceil(n.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(f(t,p.element.rail("x")).forEach((function(e){return h(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(f(t,p.element.rail("y")).forEach((function(e){return h(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=T(e,Y(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=Y((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=T(e,Y(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=Y(i*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),L(t,e),e.scrollbarXActive?t.classList.add(p.state.active("x")):(t.classList.remove(p.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(p.state.active("y")):(t.classList.remove(p.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function T(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function L(e,t){var i={width:t.railXWidth},n=Math.floor(e.scrollTop);t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-n:i.top=t.scrollbarXTop+n,o(t.scrollbarXRail,i);var a={top:n,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?a.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:a.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?a.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:a.left=t.scrollbarYLeft+e.scrollLeft,o(t.scrollbarYRail,a),o(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),o(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function $(e){e.element;e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var i=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top,n=i>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,X(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var i=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left,n=i>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,X(e),t.stopPropagation()}))}function W(e){P(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),P(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function P(e,t){var i=t[0],n=t[1],a=t[2],r=t[3],s=t[4],l=t[5],o=t[6],c=t[7],d=t[8],u=e.element,h=null,f=null,m=null;function b(t){t.touches&&t.touches[0]&&(t[a]=t.touches[0].pageY),u[o]=h+m*(t[a]-f),v(e,c),X(e),t.stopPropagation(),t.preventDefault()}function w(){g(e,c),e[d].classList.remove(p.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",b)}function C(t,s){h=u[o],s&&t.touches&&(t[a]=t.touches[0].pageY),f=t[a],m=(e[n]-e[i])/(e[r]-e[l]),s?e.event.bind(e.ownerDocument,"touchmove",b):(e.event.bind(e.ownerDocument,"mousemove",b),e.event.once(e.ownerDocument,"mouseup",w),t.preventDefault()),e[d].classList.add(p.state.clicking),t.stopPropagation()}e.event.bind(e[s],"mousedown",(function(e){C(e)})),e.event.bind(e[s],"touchstart",(function(e){C(e,!0)}))}function E(e){var t=e.element,i=function(){return u(t,":hover")},n=function(){return u(e.scrollbarX,":focus")||u(e.scrollbarY,":focus")};function a(i,n){var a=Math.floor(t.scrollTop);if(0===i){if(!e.scrollbarYActive)return!1;if(0===a&&n>0||a>=e.contentHeight-e.containerHeight&&n<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===n){if(!e.scrollbarXActive)return!1;if(0===r&&i<0||r>=e.contentWidth-e.containerWidth&&i>0)return!e.settings.wheelPropagation}return!0}e.event.bind(e.ownerDocument,"keydown",(function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)&&(i()||n())){var s=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(s){if("IFRAME"===s.tagName)s=s.contentDocument.activeElement;else while(s.shadowRoot)s=s.shadowRoot.activeElement;if(R(s))return}var l=0,o=0;switch(r.which){case 37:l=r.metaKey?-e.contentWidth:r.altKey?-e.containerWidth:-30;break;case 38:o=r.metaKey?e.contentHeight:r.altKey?e.containerHeight:30;break;case 39:l=r.metaKey?e.contentWidth:r.altKey?e.containerWidth:30;break;case 40:o=r.metaKey?-e.contentHeight:r.altKey?-e.containerHeight:-30;break;case 32:o=r.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:o=e.containerHeight;break;case 34:o=-e.containerHeight;break;case 36:o=e.contentHeight;break;case 35:o=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==l||e.settings.suppressScrollY&&0!==o||(t.scrollTop-=o,t.scrollLeft+=l,X(e),a(l,o)&&r.preventDefault())}}))}function M(e){var t=e.element;function i(i,n){var a,r=Math.floor(t.scrollTop),s=0===t.scrollTop,l=r+t.offsetHeight===t.scrollHeight,o=0===t.scrollLeft,c=t.scrollLeft+t.offsetWidth===t.scrollWidth;return a=Math.abs(n)>Math.abs(i)?s||l:o||c,!a||!e.settings.wheelPropagation}function n(e){var t=e.deltaX,i=-1*e.deltaY;return"undefined"!==typeof t&&"undefined"!==typeof i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!==t&&i!==i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}function a(e,i,n){if(!F.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;var a=e;while(a&&a!==t){if(a.classList.contains(p.element.consuming))return!0;var r=l(a);if(n&&r.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&n<0||a.scrollTop<s&&n>0))return!0}if(i&&r.overflowX.match(/(scroll|auto)/)){var o=a.scrollWidth-a.clientWidth;if(o>0&&(a.scrollLeft>0&&i<0||a.scrollLeft<o&&i>0))return!0}a=a.parentNode}return!1}function r(r){var s=n(r),l=s[0],o=s[1];if(!a(r.target,l,o)){var c=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(o?t.scrollTop-=o*e.settings.wheelSpeed:t.scrollTop+=l*e.settings.wheelSpeed,c=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(l?t.scrollLeft+=l*e.settings.wheelSpeed:t.scrollLeft-=o*e.settings.wheelSpeed,c=!0):(t.scrollTop-=o*e.settings.wheelSpeed,t.scrollLeft+=l*e.settings.wheelSpeed),X(e),c=c||i(l,o),c&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}"undefined"!==typeof window.onwheel?e.event.bind(t,"wheel",r):"undefined"!==typeof window.onmousewheel&&e.event.bind(t,"mousewheel",r)}function H(e){if(F.supportsTouch||F.supportsIePointer){var t=e.element,i={},n=0,a={},r=null;F.supportsTouch?(e.event.bind(t,"touchstart",u),e.event.bind(t,"touchmove",f),e.event.bind(t,"touchend",m)):F.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",u),e.event.bind(t,"pointermove",f),e.event.bind(t,"pointerup",m)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",u),e.event.bind(t,"MSPointerMove",f),e.event.bind(t,"MSPointerUp",m)))}function s(i,n){var a=Math.floor(t.scrollTop),r=t.scrollLeft,s=Math.abs(i),l=Math.abs(n);if(l>s){if(n<0&&a===e.contentHeight-e.containerHeight||n>0&&0===a)return 0===window.scrollY&&n>0&&F.isChrome}else if(s>l&&(i<0&&r===e.contentWidth-e.containerWidth||i>0&&0===r))return!0;return!0}function o(i,n){t.scrollTop-=n,t.scrollLeft-=i,X(e)}function c(e){return e.targetTouches?e.targetTouches[0]:e}function d(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function u(e){if(d(e)){var t=c(e);i.pageX=t.pageX,i.pageY=t.pageY,n=(new Date).getTime(),null!==r&&clearInterval(r)}}function h(e,i,n){if(!t.contains(e))return!1;var a=e;while(a&&a!==t){if(a.classList.contains(p.element.consuming))return!0;var r=l(a);if(n&&r.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&n<0||a.scrollTop<s&&n>0))return!0}if(i&&r.overflowX.match(/(scroll|auto)/)){var o=a.scrollWidth-a.clientWidth;if(o>0&&(a.scrollLeft>0&&i<0||a.scrollLeft<o&&i>0))return!0}a=a.parentNode}return!1}function f(e){if(d(e)){var t=c(e),r={pageX:t.pageX,pageY:t.pageY},l=r.pageX-i.pageX,u=r.pageY-i.pageY;if(h(e.target,l,u))return;o(l,u),i=r;var f=(new Date).getTime(),p=f-n;p>0&&(a.x=l/p,a.y=u/p,n=f),s(l,u)&&e.preventDefault()}}function m(){e.settings.swipeEasing&&(clearInterval(r),r=setInterval((function(){e.isInitialized?clearInterval(r):a.x||a.y?Math.abs(a.x)<.01&&Math.abs(a.y)<.01?clearInterval(r):(o(30*a.x,30*a.y),a.x*=.8,a.y*=.8):clearInterval(r)}),10))}}var j=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},A={"click-rail":$,"drag-thumb":W,keyboard:E,wheel:M,touch:H},N=function(e,t){var i=this;if(void 0===t&&(t={}),"string"===typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var n in this.element=e,e.classList.add(p.main),this.settings=j(),t)this.settings[n]=t[n];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var a=function(){return e.classList.add(p.state.focus)},r=function(){return e.classList.remove(p.state.focus)};this.isRtl="rtl"===l(e).direction,!0===this.isRtl&&e.classList.add(p.rtl),this.isNegativeScroll=function(){var t=e.scrollLeft,i=null;return e.scrollLeft=-1,i=e.scrollLeft<0,e.scrollLeft=t,i}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new x,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=c(p.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=c(p.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",r),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var s=l(this.scrollbarXRail);this.scrollbarXBottom=parseInt(s.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Y(s.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Y(s.borderLeftWidth)+Y(s.borderRightWidth),o(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Y(s.marginLeft)+Y(s.marginRight),o(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=c(p.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=c(p.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",r),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var d=l(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Y(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?S(this.scrollbarY):null,this.railBorderYWidth=Y(d.borderTopWidth)+Y(d.borderBottomWidth),o(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Y(d.marginTop)+Y(d.marginBottom),o(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return A[e](i)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return i.onScroll(e)})),X(this)};N.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,o(this.scrollbarXRail,{display:"block"}),o(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Y(l(this.scrollbarXRail).marginLeft)+Y(l(this.scrollbarXRail).marginRight),this.railYMarginHeight=Y(l(this.scrollbarYRail).marginTop)+Y(l(this.scrollbarYRail).marginBottom),o(this.scrollbarXRail,{display:"none"}),o(this.scrollbarYRail,{display:"none"}),X(this),_(this,"top",0,!1,!0),_(this,"left",0,!1,!0),o(this.scrollbarXRail,{display:""}),o(this.scrollbarYRail,{display:""}))},N.prototype.onScroll=function(e){this.isAlive&&(X(this),_(this,"top",this.element.scrollTop-this.lastScrollTop),_(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},N.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),h(this.scrollbarX),h(this.scrollbarY),h(this.scrollbarXRail),h(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},N.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var D=N,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card file-manager-item file"},[i("div",{staticClass:"custom-control custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"file_"+e.file.path},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var i=e.checked,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&(e.checked=i.concat([r])):s>-1&&(e.checked=i.slice(0,s).concat(i.slice(s+1)))}else e.checked=a}}}),i("label",{staticClass:"custom-control-label",attrs:{for:"file_"+e.file.path}})]),i("div",{staticClass:"card-img-top file-logo-wrapper",style:e.getStyle()},[i("div",{staticClass:"dropdown float-right px-50"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{attrs:{"data-feather":"more-vertical"}})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-download",command:"download"}},[e._v(e._s(e.$t("Download")))]),e.canPreview?i("el-dropdown-item",{attrs:{icon:"el-icon-view",command:"preview"}},[e._v(e._s(e.$t("Preview")))]):e._e(),i("el-dropdown-item",{attrs:{icon:"el-icon-copy-document",command:"duplicate"}},[e._v("Make a copy")]),i("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"rename"}},[e._v(e._s(e.$t("Rename")))]),i("el-dropdown-item",{attrs:{icon:"el-icon-info",command:"info"}},[e._v(e._s(e.$t("Info")))]),i("el-dropdown-item",{attrs:{icon:"el-icon-delete",command:"delete"}},[e._v(e._s(e.$t("Delete")))])],1)],1)],1),i("div",{staticClass:"d-flex align-items-center justify-content-center w-100"},[e.canPreviewImage?["list"==e.mode?i("el-image",{attrs:{src:e.preview_url,lazy:""}}):e._e()]:i("i",{class:e.getIcon(e.file.extension)})],2)]),i("div",{staticClass:"card-body"},[i("div",{staticClass:"content-wrapper",on:{click:e.clickContent}},[i("p",{staticClass:"card-text file-name mb-0",domProps:{textContent:e._s(e.file.name)}}),i("p",{staticClass:"card-text file-size mb-0",domProps:{textContent:e._s(e.file.size_display)}}),i("p",{staticClass:"card-text file-date",domProps:{textContent:e._s(e.file.last_modified)}})]),i("small",{staticClass:"file-accessed text-muted",domProps:{textContent:e._s("Last modify: "+e.file.last_modified)}})]),e.show_info?i("el-drawer",{attrs:{visible:e.show_info,"append-to-body":""},on:{"update:visible":function(t){e.show_info=t}}},[e.show_info?i("vx-file-manager-info",{attrs:{show:e.show_info,data:Object.assign({},e.file,{icon:e.getIcon(e.file.extension)})},on:{"update:show":function(t){e.show_info=t}}}):e._e()],1):e._e()],1)},I=[],B=(i("b0c0"),i("f9d8")),z=i("77c6"),U=i.n(z),K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"p-0"},[i("div",{staticClass:"\n        modal-header\n        d-flex\n        align-items-center\n        justify-content-between\n        mb-1\n        p-2\n      "},[i("h5",{staticClass:"modal-title",domProps:{textContent:e._s(e.data.name)}})]),i("div",{staticClass:"modal-body flex-grow-1 pb-sm-0 pb-1"},[i("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[i("div",{staticClass:"tab-pane fade show active",attrs:{id:"details-tab",role:"tabpanel","aria-labelledby":"details-tab"}},[i("div",{staticClass:"\n              d-flex\n              flex-column\n              justify-content-center\n              align-items-center\n              py-5\n            "},[i("i",{staticClass:"fa-6x",class:e.data.icon}),i("p",{staticClass:"mb-0 mt-1",domProps:{textContent:e._s(e.data.size_display)}})]),i("h6",{staticClass:"file-manager-title my-2"},[e._v("Info")]),i("ul",{staticClass:"list-unstyled"},[i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Type")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.extension)}})]),i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Mime type")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.mime_type)}})]),i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Size")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.size)}})]),i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Location")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.path)}})]),i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Modified")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.last_modified)}})])])]),e._m(0)])])])])},V=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tab-pane fade",attrs:{id:"activity-tab",role:"tabpanel","aria-labelledby":"activity-tab"}},[i("h6",{staticClass:"file-manager-title my-2"},[e._v("Today")]),i("div",{staticClass:"media align-items-center mb-2"},[i("div",{staticClass:"avatar avatar-sm mr-50"},[i("img",{attrs:{src:"/images/avatars/5-small.png",alt:"avatar",width:"28"}})]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"font-weight-bold"},[e._v("Mae")]),e._v(" shared the file with "),i("span",{staticClass:"font-weight-bold"},[e._v("Howard")])])])]),i("div",{staticClass:"media align-items-center"},[i("div",{staticClass:"avatar avatar-sm bg-light-primary mr-50"},[i("span",{staticClass:"avatar-content"},[e._v("SC")])]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"font-weight-bold"},[e._v("Sheldon")]),e._v(" updated the file ")])])]),i("h6",{staticClass:"file-manager-title mt-3 mb-2"},[e._v("Yesterday")]),i("div",{staticClass:"media align-items-center mb-2"},[i("div",{staticClass:"avatar avatar-sm bg-light-success mr-50"},[i("span",{staticClass:"avatar-content"},[e._v("LH")])]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"font-weight-bold"},[e._v("Leonard")]),e._v(" renamed this file to "),i("span",{staticClass:"font-weight-bold"},[e._v("menu.js")])])])]),i("div",{staticClass:"media align-items-center"},[i("div",{staticClass:"avatar avatar-sm mr-50"},[i("img",{attrs:{src:"/images/portrait/small/avatar-s-1.jpg",alt:"Avatar",width:"28"}})]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"font-weight-bold"},[e._v("You")]),e._v(" shared this file with Leonard ")])])]),i("h6",{staticClass:"file-manager-title mt-3 mb-2"},[e._v("3 days ago")]),i("div",{staticClass:"media"},[i("div",{staticClass:"avatar avatar-sm mr-50"},[i("img",{attrs:{src:"/images/portrait/small/avatar-s-1.jpg",alt:"Avatar",width:"28"}})]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-50"},[i("span",{staticClass:"font-weight-bold"},[e._v("You")]),e._v(" uploaded this file ")]),i("img",{staticClass:"mr-50",attrs:{src:"/images/icons/js.png",alt:"Avatar",height:"24"}}),i("span",{staticClass:"font-weight-bold"},[e._v("app.js")])])])])}],q={props:{data:Object},created:function(){console.log(this.data)}},J=q,G=i("2877"),Q=Object(G["a"])(J,K,V,!1,null,null,null),Z=Q.exports,ee={components:{vxFileManagerInfo:Z},props:{file:Object,mode:String,defaultAction:String},data:function(){return{checked:this.file.selected,preview:!1,url:null,show_info:!1,preview_url:null}},created:function(){},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.canPreview&&(e.preview_url="".concat(e.$vx.endpoint,"photo/0/").concat(e.file.path,"?w=200&_token=").concat(e.$vx.accessToken)),U.a.replace({width:14,height:14});case 2:case"end":return t.stop()}}),t)})))()},watch:{checked:function(){this.checked?this.$emit("selected",this.file.path):this.$emit("unselected",this.file.path)}},computed:{canPreviewImage:function(){return"image/jpeg"==this.file.mime_type||("image/png"==this.file.mime_type||"image/gif"==this.file.mime_type)},canPreview:function(){return!!this.canPreviewImage||"application/pdf"==this.file.mime_type}},methods:{isPDF:function(){return"application/pdf"==this.file.mime_type},getStyle:function(){if("grid"==this.mode)return{background:"url(".concat(this.url,") no-repeat center center"),backgroundSize:"cover"}},clickContent:function(){"preview"!=this.defaultAction?this.$emit("input",this.file.path):this.canPreview&&this.handleCommand("preview")},getIcon:function(e){var t,i={pdf:"far fa-lg fa-file-pdf",jpg:"far fa-lg fa-file-image",png:"far fa-lg fa-file-image",gif:"far fa-lg fa-file-image",js:"fa fa-lg fa-js-square",xls:"far fa-lg fa-file-excel",xlsx:"far fa-lg fa-file-excel",doc:"far fa-lg fa-file-word",docx:"far fa-lg fa-file-word"},n=null!==(t=i[e])&&void 0!==t?t:"far fa-file fa-lg";return"grid"==this.mode&&(n+=" fa-5x"),n},handleCommand:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("info"!=e){i.next=4;break}return t.show_info=!0,console.log(t.file),i.abrupt("return");case 4:"delete"==e&&t.$confirm("Delete ".concat(t.file.name,"?"),{type:"warning"}).then((function(){t.$emit("delete",t.file.path)})),"rename"==e&&t.$prompt("Please input new file name",{inputValue:t.file.name}).then((function(e){var i=e.value;t.$emit("rename",{path:t.file.path,name:i})})),"duplicate"==e&&t.$emit("duplicate",t.file.path),"preview"==e&&(t.isPDF()?B["a"].show([{src:t.$vx.endpoint+"drive/0/"+t.file.path,opts:{type:"pdf"}}]):B["a"].show([{src:t.$vx.endpoint+"drive/0/"+t.file.path,type:"image"}])),"download"==e&&(n=document.createElement("a"),n.href="".concat(t.$vx.endpoint,"drive/0/").concat(t.file.path,"?_token=").concat(t.$vx.accessToken),n.download=t.file.name,n.click());case 9:case"end":return i.stop()}}),i)})))()}}},te=ee,ie=Object(G["a"])(te,O,I,!1,null,null,null),ne=ie.exports,ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card file-manager-item folder"},[i("div",{staticClass:"custom-control custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"folder_"+e.folder.path},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var i=e.checked,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&(e.checked=i.concat([r])):s>-1&&(e.checked=i.slice(0,s).concat(i.slice(s+1)))}else e.checked=a}}}),i("label",{staticClass:"custom-control-label",attrs:{for:"folder_"+e.folder.path}})]),i("div",{staticClass:"card-img-top file-logo-wrapper"},[i("div",{staticClass:"dropdown float-right px-50"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{attrs:{"data-feather":"more-vertical"}})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"rename"}},[e._v(e._s(e.$t("Rename")))]),i("el-dropdown-item",{attrs:{icon:"el-icon-delete",command:"delete"}},[e._v(e._s(e.$t("Delete")))])],1)],1)],1),i("div",{staticClass:"d-flex align-items-center justify-content-center w-100",on:{click:e.clickContent}},[i("i",{attrs:{"data-feather":"folder"}})])]),i("div",{staticClass:"card-body",on:{click:e.clickContent}},[i("div",{staticClass:"content-wrapper"},[i("p",{staticClass:"card-text file-name mb-0",domProps:{textContent:e._s(e.folder.name)}}),i("p",{staticClass:"card-text file-size mb-0",domProps:{textContent:e._s(e.folder.size)}}),i("p",{staticClass:"card-text file-date",domProps:{textContent:e._s(e.folder.last_modified)}})]),i("small",{staticClass:"file-accessed text-muted",domProps:{textContent:e._s("Last modify: "+e.folder.last_modified_human)}})])])},re=[],se={props:{folder:Object},data:function(){return{checked:!1}},mounted:function(){U.a.replace({width:14,height:14})},watch:{checked:function(){this.checked?this.$emit("selected",this.folder.path):this.$emit("unselected",this.folder.path)}},methods:{clickContent:function(){this.$emit("input",this.folder.path)},handleCommand:function(e){var t=this;"delete"==e&&this.$confirm("Delete ".concat(this.folder.name,"?")).then((function(){t.$emit("delete",t.folder.path)})),"rename"==e&&this.$prompt("Please input new folder name",{inputValue:this.folder.name}).then((function(e){var i=e.value;t.$emit("rename",{path:t.folder.path,name:i})}))}}},le=se,oe=Object(G["a"])(le,ae,re,!1,null,null,null),ce=oe.exports,de=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list-group list-group-labels"},[i("h6",{staticClass:"section-label px-2 mb-1"},[e._v("Labels")]),null==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"document"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","document")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"file-text"}}),i("span",{directives:[{name:"t",rawName:"v-t",value:"Documents",expression:"'Documents'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType||"image"==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"image"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","image")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"image"}}),i("span",{directives:[{name:"t",rawName:"v-t",value:"Images",expression:"'Images'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"video"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","video")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"video"}}),i("span",{directives:[{name:"t",rawName:"v-t",value:"Videos",expression:"'Videos'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"audio"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","audio")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"music"}}),i("span",{directives:[{name:"t",rawName:"v-t",value:"Audio",expression:"'Audio'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"archive"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","archive")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"layers"}}),i("span",{staticClass:"align-middle"},[e._v("Archives")])]):e._e()])},ue=[],he={props:{fileType:String,value:String}},fe=he,pe=Object(G["a"])(fe,de,ue,!1,null,null,null),me=pe.exports,ve={name:"vx-file-manager",components:{"vx-file-manager-file":ne,"vx-file-manager-folder":ce,VxFileManagerLabels:me},props:{base:{type:String,default:""},defaultAction:{default:"preview",type:String},fileType:String,accept:String,multiple:Boolean},data:function(){return{showSelectFolder:!1,showSidebar:!1,parentPath:"",selectedPath:this.base,selectedNode:null,files:[],folders:[],mode:"list",selectedFolder:[],selectedFile:[],file_uploader:!1,action:"",uploadHeaders:null,type:null,search_text:"",nextSelectedFiles:[]}},created:function(){this.reloadContent(),this.action=this.$vx.endpoint+"FileManager/uploadFile",this.uploadHeaders={Authorization:"Bearer "+this.$vx.accessToken}},mounted:function(){new D(this.$refs.fileContent),U.a.replace({width:14,height:14})},watch:{selectedPath:function(){this.reloadContent()}},computed:{showSelectButton:function(){return 0!==this.selectedFile.length&&!(this.selectedFile.length>1&&!this.multiple)},showLevelUp:function(){return""!=this.selectedPath}},methods:{moveSelectedTo:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n,a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,t.$confirm("Move selected file to ".concat(e.path,"?"));case 4:t.showSelectFolder=!1,n=Object(r["a"])(t.selectedFile),i.prev=6,n.s();case 8:if((a=n.n()).done){i.next=14;break}return s=a.value,i.next=12,t.$vx.post("/FileManager/moveFile",{path:s,target:e.path});case 12:i.next=8;break;case 14:i.next=19;break;case 16:i.prev=16,i.t0=i["catch"](6),n.e(i.t0);case 19:return i.prev=19,n.f(),i.finish(19);case 22:t.selectedFile=[],t.reloadContent();case 24:case"end":return i.stop()}}),i,null,[[6,16,19,22]])})))()},allowDrop:function(e,t,i){return"inner"==i},handleDrop:function(e,t){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.$confirm("Moving ".concat(e.data.path," to ").concat(t.data.path),{type:"warning"});case 3:return n.next=5,i.moveFolder(e.data.path,t.data.path);case 5:a=i.$refs.tree.getNode(t.data.path),a.loaded=!1,a.expand(),n.next=16;break;case 10:n.prev=10,n.t0=n["catch"](0),r=e.data,s=i.$refs.tree.getNode(r.location),s.loaded=!1,s.expand();case 16:case"end":return n.stop()}}),n,null,[[0,10]])})))()},handleDragEnd:function(e,t,i,n){console.log("drop end")},onSearch:function(){this.$nextTick(this.reloadContent)},onLevelUp:function(){console.log(this.parentPath),this.folderClicked(this.parentPath)},folderClicked:function(e){this.$refs.tree.setCurrentKey(e),this.selectedPath=e},selectClicked:function(){this.$emit("input",this.selectedFile)},inputFile:function(e){this.$emit("input",e)},onErrorUpload:function(e){console.log(e),this.$message.error("upload failed!")},onSuccessUpload:function(e,t,i){console.log("upload success",e.data.path,t,i),this.nextSelectedFiles.push(e.data.path),this.reloadContent()},listFiles:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.type=e,t.reloadContent();case 2:case"end":return i.stop()}}),i)})))()},deleteSelected:function(){var e=this;this.$confirm("Delete?",{type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){var i,n,a,s,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=Object(r["a"])(e.selectedFolder),t.prev=1,i.s();case 3:if((n=i.n()).done){t.next=11;break}return a=n.value,t.next=7,e.$vx.post("/FileManager/deleteFolder",{path:a});case 7:return t.next=9,e.$refs.tree.remove(a);case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),i.e(t.t0);case 16:return t.prev=16,i.f(),t.finish(16);case 19:s=Object(r["a"])(e.selectedFile),t.prev=20,s.s();case 22:if((l=s.n()).done){t.next=28;break}return o=l.value,t.next=26,e.$vx.post("/FileManager/deleteFile",{path:o});case 26:t.next=22;break;case 28:t.next=33;break;case 30:t.prev=30,t.t1=t["catch"](20),s.e(t.t1);case 33:return t.prev=33,s.f(),t.finish(33);case 36:e.selectedFolder=[],e.selectedFile=[],e.reloadContent();case 39:case"end":return t.stop()}}),t,null,[[1,13,16,19],[20,30,33,36]])}))))},selectFolder:function(e){this.selectedFolder.push(e)},unselectFolder:function(e){this.selectedFolder=this.selectedFolder.filter((function(t){return t!=e}))},addNew:function(e){var t=this,i=this.$refs.tree.getCurrentNode();i?("file"==e&&(this.file_uploader=!0),"folder"==e&&this.$prompt("Please input new folder name").then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(i){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.value,e.next=3,t.$vx.post("/FileManager/createFolder",{path:t.selectedPath+"/"+n});case 3:return a=e.sent,r=a.data,t.$refs.tree.append(r,t.$refs.tree.getCurrentNode()),e.next=8,t.reloadContent();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):this.$message.warning("Please select folder")},loadNode:function(e,t){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!==e.level){n.next=4;break}return t([{label:"My storage",path:i.base}]),i.$nextTick((function(){i.$refs.tree.setCurrentKey(i.base)})),n.abrupt("return");case 4:return n.next=6,i.$vx.get("/FileManager/listDirectory",{params:{path:e.data.path}});case 6:return a=n.sent,r=a.data,n.abrupt("return",t(r));case 9:case"end":return n.stop()}}),n)})))()},handleNodeClick:function(e){this.type=null,this.selectedPath=e.path,this.selectedNode=e,this.selectedFolder=[]},reloadContent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,n,a,s,l,o,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.file_uploader=!1,e.selectedFolder=[],e.selectedFile=[],!e.type){t.next=22;break}if("recent"!=e.type){t.next=12;break}return t.next=7,e.$vx.get("/FileManager/listRecentFiles",{params:{file_type:e.fileType}});case 7:return i=t.sent,n=i.data,e.files=n,e.folders=[],t.abrupt("return");case 12:return t.next=14,e.$vx.get("/FileManager/listFiles",{params:{path:e.base,type:e.type}});case 14:if(a=t.sent,s=a.data,!s.error){t.next=19;break}return e.$message.error(s.error.message),t.abrupt("return");case 19:return e.files=s,e.folders=[],t.abrupt("return");case 22:return e.files=[],e.folders=[],t.next=26,e.$vx.get("/FileManager/listContents",{params:{path:e.selectedPath,file_type:e.fileType,search:e.search_text}});case 26:l=t.sent,o=l.data,e.parentPath=o.parent,e.files=o.files,c=Object(r["a"])(e.files);try{for(c.s();!(d=c.n()).done;)u=d.value,console.log(u.path),u.selected=e.nextSelectedFiles.includes(u.path),u.selected&&e.selectedFile.push(u.path)}catch(h){c.e(h)}finally{c.f()}console.log(e.selectedFile),e.folders=o.folders;case 34:case"end":return t.stop()}}),t)})))()},deleteFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("/FileManager/deleteFile",{path:e});case 2:t.reloadContent();case 3:case"end":return i.stop()}}),i)})))()},renameFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("/FileManager/renameFile",e);case 2:n=i.sent.data,n.error?t.$message.error(n.error.message):t.reloadContent();case 4:case"end":return i.stop()}}),i)})))()},duplicateFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("/FileManager/duplicateFile",{path:e});case 2:t.reloadContent();case 3:case"end":return i.stop()}}),i)})))()},deleteFolder:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("/FileManager/deleteFolder",{path:e});case 2:t.reloadContent(),t.$refs.tree.remove(e);case 4:case"end":return i.stop()}}),i)})))()},renameFolder:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("/FileManager/renameFolder",e);case 2:n=i.sent.data,t.reloadContent(),t.$refs.tree.remove(e.path),t.$refs.tree.append(n,t.selectedNode);case 6:case"end":return i.stop()}}),i)})))()},moveFolder:function(e,t){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.$vx.post("/FileManager/moveFolder",{path:e,target:t});case 2:a=n.sent,r=a.data,r.error&&i.$alert(r.error.message,{type:"error"}),i.reloadContent();case 6:case"end":return n.stop()}}),n)})))()}}},ge=ve,be=(i("303a"),Object(G["a"])(ge,n,a,!1,null,"7b88dc59",null));t["default"]=be.exports},2532:function(e,t,i){"use strict";var n=i("23e7"),a=i("5a34"),r=i("1d80"),s=i("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(r(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"303a":function(e,t,i){"use strict";i("637e")},"5a34":function(e,t,i){var n=i("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"637e":function(e,t,i){},"649b":function(e,t,i){},ab13:function(e,t,i){var n=i("b622"),a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[a]=!1,"/./"[e](t)}catch(n){}}return!1}},caad:function(e,t,i){"use strict";var n=i("23e7"),a=i("4d64").includes,r=i("44d2");n({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},fe68:function(e,t,i){}}]);
//# sourceMappingURL=chunk-06cf6aba.dffa68d3.js.map